<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="../utils/Falta.js"></script>
    <script src="../utils/Tool.js"></script>
    <script src="../utils/main.js"></script>
    <title>FALTAS</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

  </head>
  <body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav text-center">
          <li class="nav-item">
            <a class="nav-link" href="index.html">Login</a>
          </li>
                    
          <li class="nav-item ">
            <a class="nav-link" href="../views/empleado.html">Registrar Empleado</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../views/listaempleados.html">Empleado(s)</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../views/area.html">Area</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../views/indexje.html">Faltas</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../views/indexxj.html">Banco</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../views/sueldoenhtml.html">Sueldo</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>


    <div class="container">
      <h1 class="text-center">FALTAS</h1>

      <div class="container">
        <div class="row justify-content-center mt 3">
          <label class="col-1 form-label">id del empleado</label>
          <div class="col-3 col-8 col-md-4">
            <br />
            <select id="personas" onchange="seleccionarPersona()"></select>
          </div>
        </div>
      </div>

      <div class="row justify-content-center mt 3">
        <label class="col-1 form-label">Fecha falta</label>
        <div class="col-3 col-8 col-md-4">
          <br />
          <input type="date" class="form-control" id="FaL" />
        </div>
      </div>
    </div>

    <div class="row justify-content-center mt 3">
      <label class="col-1 form-label">Motivo</label>
      <div class="col-3 col-8 col-md-4">
        <br />
        <input type="text" class="form-control" id="Mo" />
      </div>
    </div>

    <div class="row justify-content-center mt 3">
      <label class="col-1 form-label">Justificacion</label>
      <div class="col-3 col-8 col-md-4">
        <br />
        <input type="text" class="form-control" id="Just" />
      </div>
    </div>

    <div class="row justify-content-center mt 3">
      <div class="col-3 col-8 col-md-4">
        <br />
        <button class="btn btn-outline-primary" onclick="myFunction()">
          Guardar
        </button>
      </div>
    </div>
    <!--
      
        <div class="container">
          <h1 class="text-center">Datos bancarios</h1>
      
          <div class="container">
            <div class="row justify-content-center mt 3">
              <label class="col-1 form-label">Nombre del empleado</label>
              <div class="col-2 col-6 col-md-4"><br>
                <input type="text" class=" form-control" id="Nombre">
              </div>
            </div>
          </div>
      
          <div class="row justify-content-center mt 3">
            <label class="col-1 form-label">Numero de cuenta</label>
            <div class="col-3 col-8 col-md-4"><br>
              <input type="number" class=" form-control" id=" NuC">
            </div>
          </div>
      
      
      
          <div class="row justify-content-center mt 3">
            <label class="col-1 form-label">Banco</label>
            <div class="col-3 col-8 col-md-4"><br>
              <input type="text" class=" form-control" id="TiB">
            </div>
      
            <div class="row justify-content-center mt 3">
              <label class="col-1 form-label">Beneficiario</label>
              <div class="col-3 col-8 col-md-4"><br>
                <input type="text" class="form-control" id="Ben">
              </div>
      
              <div class="row justify-content-center mt 3">
                <div class="col-3 col-8 col-md-4"><br>
                  <button class="btn btn-outline-warning" onclick="myFunctionBan()">Guardar</button>
                </div>
              -->
    <script>
      var select = document.getElementById("personas");
      var personas = JSON.parse(localStorage.getItem("Empleados")); //Obtener el listado de personas guardadas en localstorage
      for (var i = 0; i < personas.length; i++) {
        /* Esta función se encarga de generar el nombre completo a partir del localstorage, y además crea las opciones para el select */
        var persona = personas[i];
        var option = document.createElement("option");
        option.text = persona.nom + " " + persona.appat + " " + persona.apmat;
        option.value = persona.id;
        select.add(option);
      }

      function seleccionarPersona() {
        /* Esta funcion se encarga de obtener el valor que tiene cada opcion del combo */
        var combo = document.getElementById("personas");
        var idSeleccionado = combo.options[combo.selectedIndex].value;
        return idSeleccionado;
      }

      function myFunction() {
        var persona = Tool.findPersona(
          document.getElementById("personas").value
        );
        if (persona) {
          var data = getDataForm();
          Tool.updatePersona(document.getElementById("personas").value, data);
        } else {
          alert("No se encontro la Persona");
        }
      }
    </script>

    
    <!--<script src="Tool.js"></script>
    <script src="Faltas.js"></script>
    <script src="Banco.js"></script>
    <script src="main.js"></script>-->
  </body>
</html>
